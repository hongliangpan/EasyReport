/*
Navicat MySQL Data Transfer

Source Server         : localhost
Source Server Version : 50532
Source Host           : localhost:3306
Source Database       : easyreport

Target Server Type    : MYSQL
Target Server Version : 50532
File Encoding         : 65001

Date: 2016-02-22 09:20:50
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for easyreport_category
-- ----------------------------
DROP TABLE IF EXISTS `easyreport_category`;
CREATE TABLE `easyreport_category` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '报表ID',
  `pid` int(11) NOT NULL DEFAULT '0' COMMENT '父分类',
  `name` varchar(50) NOT NULL COMMENT '名称',
  `path` varchar(500) NOT NULL COMMENT '树型结构路径从根id到当前id的路径',
  `has_child` tinyint(1) NOT NULL COMMENT '是否为子类别1为是，0为否',
  `status` int(11) NOT NULL COMMENT '状态（1表示启用，0表示禁用，默认为0)',
  `sequence` int(11) NOT NULL COMMENT '节点在其父节点中的顺序',
  `comment` varchar(500) NOT NULL COMMENT '说明备注',
  `create_time` datetime NOT NULL COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=721 DEFAULT CHARSET=utf8 COMMENT='报表类别表';

-- ----------------------------
-- Records of easyreport_category
-- ----------------------------
INSERT INTO `easyreport_category` VALUES ('704', '0', '中国天气(SQLServer)', '704', '1', '0', '100', '', '2015-01-12 14:54:58', '2015-01-12 14:54:58');
INSERT INTO `easyreport_category` VALUES ('711', '0', '中国空气(MySQL)', '711', '1', '0', '100', '', '2015-01-29 17:54:49', '2015-01-29 17:54:49');
INSERT INTO `easyreport_category` VALUES ('712', '711', '2014年北京每天空气指数', '711,712', '0', '0', '100', '', '2015-01-29 17:59:14', '2015-01-29 17:59:14');
INSERT INTO `easyreport_category` VALUES ('713', '711', '30天内城市空气指数', '711,713', '0', '0', '100', '', '2015-01-29 18:04:46', '2015-01-29 18:04:46');
INSERT INTO `easyreport_category` VALUES ('714', '711', '2014年主要城市空气质量', '711,714', '0', '0', '100', '', '2015-01-29 18:15:19', '2015-01-29 18:15:19');
INSERT INTO `easyreport_category` VALUES ('715', '711', '2014年主要城市空气质量好坏表', '711,715', '0', '0', '100', '', '2015-01-29 18:31:43', '2015-01-29 18:31:43');
INSERT INTO `easyreport_category` VALUES ('716', '0', '中国天气(MySQL)', '716', '1', '0', '100', '', '2015-02-10 15:20:31', '2015-02-10 15:20:31');
INSERT INTO `easyreport_category` VALUES ('717', '716', '2014年北京每天天气', '716,717', '0', '0', '1', '', '2015-02-10 15:37:11', '2015-02-10 15:37:11');
INSERT INTO `easyreport_category` VALUES ('718', '711', '2014年主要城市(可选)空气质量', '711,718', '0', '0', '100', '', '2015-02-11 18:58:46', '2015-02-11 18:58:46');
INSERT INTO `easyreport_category` VALUES ('719', '711', '2014年分地区城市空气质量', '711,719', '0', '0', '100', '', '2015-02-13 12:15:23', '2015-02-13 12:15:23');
INSERT INTO `easyreport_category` VALUES ('720', '711', '2014主要城市(可选)每月空气质量', '711,720', '0', '0', '100', '', '2015-02-13 18:26:33', '2015-02-13 18:26:33');

-- ----------------------------
-- Table structure for easyreport_chart_layout
-- ----------------------------
DROP TABLE IF EXISTS `easyreport_chart_layout`;
CREATE TABLE `easyreport_chart_layout` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '报表ID',
  `pid` int(11) NOT NULL DEFAULT '0',
  `ds_id` int(11) NOT NULL COMMENT '数据源ID',
  `uid` varchar(128) DEFAULT NULL COMMENT '报表唯一ID,由接口调用方传入',
  `name` varchar(50) NOT NULL COMMENT '报表名称',
  `path` varchar(500) NOT NULL COMMENT '报表树型结构路径',
  `flag` int(11) NOT NULL COMMENT '报表树型节点标志,0为分类节点，1为报表结点',
  `has_child` tinyint(1) NOT NULL,
  `status` int(11) NOT NULL COMMENT '报表状态（1表示锁定，0表示编辑)',
  `sequence` int(11) NOT NULL COMMENT '报表节点在其父节点中的顺序',
  `data_range` int(11) NOT NULL DEFAULT '7' COMMENT '报表默认展示多少天的数据',
  `layout` int(2) NOT NULL COMMENT '布局形式.1横向;2纵向',
  `stat_column_layout` int(11) DEFAULT '1' COMMENT '统计列布局形式.1横向;2纵向',
  `sql_text` text NOT NULL COMMENT '报表SQL语句',
  `meta_columns` text NOT NULL COMMENT '配置项对象JSON序列化字符串',
  `query_params` text NOT NULL COMMENT '查询条件列属性集合json字符串',
  `comment` varchar(500) DEFAULT NULL COMMENT '说明备注',
  `create_user` varchar(50) NOT NULL COMMENT '创建用户',
  `create_time` datetime NOT NULL COMMENT '记录创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '记录修改时间',
  PRIMARY KEY (`id`),
  KEY `ukuid` (`uid`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=721 DEFAULT CHARSET=utf8 COMMENT='报表信息表';

-- ----------------------------
-- Records of easyreport_chart_layout
-- ----------------------------
INSERT INTO `easyreport_chart_layout` VALUES ('704', '0', '0', '55fddeec-0853-469c-b44a-3f0c8cf0937a', '中国天气(SQLServer)', '704', '0', '1', '0', '100', '7', '1', '1', '', '', '', '', '', '2015-01-12 14:54:58', '2015-01-12 14:54:58');
INSERT INTO `easyreport_chart_layout` VALUES ('711', '0', '0', '6fc45465-409d-4e41-9ddd-4e9e13c2f4b0', '中国空气(MySQL)', '711', '0', '1', '0', '100', '7', '1', '1', '', '', '', '', '', '2015-01-29 17:54:49', '2015-01-29 17:54:49');
INSERT INTO `easyreport_chart_layout` VALUES ('712', '711', '50', 'bb7be838-31ae-41fe-ae63-4ae8efe5c138', '2014年北京每天空气指数', '711,712', '1', '0', '0', '100', '7', '2', '1', 'select * from fact_air_cn where area=\'北京市\' and year(dt)=\'2014\'', '[{\"ordinal\":0,\"name\":\"dt\",\"text\":\"日期\",\"dataType\":\"DATE\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"aqi\",\"text\":\"空气指数\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"aqi_range\",\"text\":\"AQI指数范围\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"pm25\",\"text\":\"PM2.5细颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"pm10\",\"text\":\"PM10可吸入颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"so2\",\"text\":\"二氧化硫(So2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"co\",\"text\":\"一氧化碳(Co)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"no2\",\"text\":\"二氧化氮(No2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"o3\",\"text\":\"臭氧(O3)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false}]', '', '', '', '2015-01-29 17:59:14', '2015-01-29 17:59:14');
INSERT INTO `easyreport_chart_layout` VALUES ('713', '711', '50', '3180eafe-e4a2-4b5c-828e-e054043f6e87', '30天内城市空气指数', '711,713', '1', '0', '0', '100', '30', '2', '1', 'select * from fact_air_cn where area in (\'${area}\') and dt>=\'${startTime}\' and dt <\'${endTime}\'', '[{\"ordinal\":0,\"name\":\"dt\",\"text\":\"日期\",\"dataType\":\"DATE\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"aqi\",\"text\":\"空气指数\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"aqi_range\",\"text\":\"AQI指数范围\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"pm25\",\"text\":\"PM2.5细颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"pm10\",\"text\":\"PM10可吸入颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"so2\",\"text\":\"二氧化硫(So2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"co\",\"text\":\"一氧化碳(Co)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"no2\",\"text\":\"二氧化氮(No2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":true,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"o3\",\"text\":\"臭氧(O3)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":true,\"footings\":false,\"displayInMail\":false}]', '[{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"北京市\",\"defaultText\":\"北京市\",\"dataType\":\"string\",\"width\":\"100\",\"required\":true,\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"autoComplete\":false}]', '', '', '2015-01-29 18:04:46', '2015-01-29 18:04:46');
INSERT INTO `easyreport_chart_layout` VALUES ('714', '711', '50', '7608bb39-fa1b-4aff-bd15-b31f318e7025', '2014年主要城市空气质量', '711,714', '1', '0', '0', '100', '7', '2', '1', 'SELECT\n	area,\n	quality,\n	count(*) total,\n    count(*) / 365 as rating\nFROM\n	fact_air_cn\nWHERE\n	YEAR (dt) = \'2014\'\nGROUP BY\n	area,\n	quality', '[{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市/地区\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气质量\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"footings\":false,\"displayInMail\":false}]', '', '', '', '2015-01-29 18:15:19', '2015-01-29 18:15:19');
INSERT INTO `easyreport_chart_layout` VALUES ('715', '711', '50', 'c8258587-eb6f-4a2a-8caf-0ae236b77807', '2014年主要城市空气质量好坏表', '711,715', '1', '0', '0', '100', '7', '2', '1', 'SELECT\n	area,\n	quality,\n	sum(total) total,\n    sum(total) / 365 as rating\nFROM\n	(\n		SELECT\n			area,\n			CASE quality\n		WHEN \'优\' THEN\n			\'好\'\n		WHEN \'良\' THEN\n			\'好\'\n		ELSE\n			\'差\'\n		END AS quality,\n		count(*) total\n	FROM\n		fact_air_cn\n	WHERE\n		YEAR (dt) = \'2014\'\n	GROUP BY\n		area,\n		quality\n	) t\nGROUP BY\n	t.area,\n	t.quality', '[{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市/地区\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"质量\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":1,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":43,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":48,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"footings\":false,\"displayInMail\":false}]', '', '', '', '2015-01-29 18:31:43', '2015-01-29 18:31:43');
INSERT INTO `easyreport_chart_layout` VALUES ('716', '0', '0', '4c1778a1-c888-46dd-854a-9fbcde34529e', '中国天气(MySQL)', '716', '0', '1', '0', '100', '7', '1', '1', '', '', '', '', '', '2015-02-10 15:20:31', '2015-02-10 15:20:31');
INSERT INTO `easyreport_chart_layout` VALUES ('717', '716', '50', '5beca118-e15e-4c3b-91f4-5330dc9a62dd', '2014年北京每天天气', '716,717', '1', '0', '0', '1', '7', '2', '1', 'select * from fact_weather_cn where year(dt)=2014 and area=\'北京\'', '[{\"ordinal\":0,\"name\":\"dt\",\"text\":\"日期\",\"dataType\":\"DATE\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"weather\",\"text\":\"天气\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":50,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"min_temp\",\"text\":\"最低温度\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"max_temp\",\"text\":\"最高温度\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"wind_level\",\"text\":\"风级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":255,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"wind_direct\",\"text\":\"风向\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":255,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false}]', '', '', '', '2015-02-10 15:37:11', '2015-02-10 15:37:11');
INSERT INTO `easyreport_chart_layout` VALUES ('718', '711', '50', 'b6e04111-75b7-4c6b-9a30-c3d7d0b846c4', '2014年主要城市(可选)空气质量', '711,718', '1', '0', '0', '100', '7', '1', '1', 'SELECT\n	area,\n	CASE quality\n		WHEN \'优\' THEN \'1-优\'\n		WHEN \'良\' THEN \'2-良\'\n		WHEN \'轻度污染\' THEN \'3-轻度污染\'\n		WHEN \'中度污染\' THEN \'4-中度污染\'\n		WHEN \'重度污染\' THEN \'5-重度污染\'\n		WHEN \'严重污染\' THEN \'6-严重污染\'	\n	END AS quality,\n	count(*) total,\n    count(*) / 365 as rating,\n    avg(aqi) avg_aqi\nFROM\n	fact_air_cn\nWHERE\n	YEAR (dt) = \'2014\' \n    AND area in (\'${area}\')\nGROUP BY\n	area,\n	quality\norder by total desc', '[{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":6,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"3\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"footings\":false,\"optional\":false,\"percent\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"footings\":false,\"optional\":false,\"percent\":true,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"avg_aqi\",\"text\":\"AQI均值\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":16,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false}]', '[{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"北京市\",\"defaultText\":\"北京市\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"required\":false,\"autoComplete\":false}]', '', '', '2015-02-11 18:58:46', '2015-02-11 18:58:46');
INSERT INTO `easyreport_chart_layout` VALUES ('719', '711', '50', 'a6233a37-18b2-4ec9-8ca1-90e8fe3ffed1', '2014年分地区城市空气质量', '711,719', '1', '0', '0', '100', '7', '2', '1', 'SELECT\n	t1.region,\n	t1.province,\n	t2.area,\n	CASE t2.quality\n		WHEN \'优\' THEN \'1-优\'\n		WHEN \'良\' THEN \'2-良\'\n		WHEN \'轻度污染\' THEN \'3-轻度污染\'\n		WHEN \'中度污染\' THEN \'4-中度污染\'\n		WHEN \'重度污染\' THEN \'5-重度污染\'\n		WHEN \'严重污染\' THEN \'6-严重污染\'	\n	END AS quality,\n	count(*) total,\n	count(*) / 365 AS rating\nFROM\n	(\n		SELECT DISTINCT\n			t1.region,\n			t1.province,\n			t1.city\n		FROM\n			dim_area_cn t1\n	) t1\nINNER JOIN fact_air_cn t2 ON t1.city = t2.area\nWHERE\n	YEAR (t2.dt) = \'2014\'\n    AND t1.region like \'%${region}%\'\n	AND t1.province  like \'%${province}%\'\n	AND t2.area  like \'%${area}%\'\nGROUP BY\n	t1.region,\n	t1.province,\n	t2.area,\n	t2.quality', '[{\"ordinal\":0,\"name\":\"region\",\"text\":\"地区\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"province\",\"text\":\"省(直辖市)\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":50,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"1\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"footings\":false,\"displayInMail\":false}]', '[{\"name\":\"region\",\"text\":\"地区\",\"defaultValue\":\"%\",\"defaultText\":\"全部\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"select\",\"dataSource\":\"sql\",\"content\":\"select distinct region as name,region as text from dim_area_cn\",\"required\":false,\"autoComplete\":false},{\"name\":\"province\",\"text\":\"省(市)\",\"defaultValue\":\"%\",\"defaultText\":\"全部\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"select\",\"dataSource\":\"sql\",\"content\":\"select distinct province as name,province as text from dim_area_cn\",\"required\":false,\"autoComplete\":false},{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"%\",\"defaultText\":\"全部\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"required\":false,\"autoComplete\":false}]', '', '', '2015-02-13 12:15:23', '2015-02-13 12:15:23');
INSERT INTO `easyreport_chart_layout` VALUES ('720', '711', '50', '3b6d84ef-e6d7-4644-a145-e99b578426bf', '2014主要城市(可选)每月空气质量', '711,720', '1', '0', '0', '100', '7', '2', '1', 'SELECT\n    MONTH(dt) month,\n	area,\n	CASE quality\n		WHEN \'优\' THEN \'1-优\'\n		WHEN \'良\' THEN \'2-良\'\n		WHEN \'轻度污染\' THEN \'3-轻度污染\'\n		WHEN \'中度污染\' THEN \'4-中度污染\'\n		WHEN \'重度污染\' THEN \'5-重度污染\'\n		WHEN \'严重污染\' THEN \'6-严重污染\'	\n	END AS quality,\n	count(*) total,\n    count(*) / 365 as rating\nFROM\n	fact_air_cn\nWHERE\n	YEAR (dt) = \'2014\' \n    AND area in (\'${area}\')\nGROUP BY\n    MONTH(dt),\n	area,\n	quality\norder by total desc', '[{\"ordinal\":0,\"name\":\"month\",\"text\":\"月度\",\"dataType\":\"INT\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":2,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"1\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":6,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"1\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"displayInMail\":false,\"footings\":false}]', '[{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"北京市\",\"defaultText\":\"北京市\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"required\":false,\"autoComplete\":false}]', '', '', '2015-02-13 18:26:33', '2015-02-13 18:26:33');

-- ----------------------------
-- Table structure for easyreport_conf
-- ----------------------------
DROP TABLE IF EXISTS `easyreport_conf`;
CREATE TABLE `easyreport_conf` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT COMMENT '配置字典ID',
  `pid` int(11) NOT NULL DEFAULT '0' COMMENT '父ID',
  `name` varchar(50) NOT NULL COMMENT '名称',
  `key` varchar(50) NOT NULL,
  `value` varchar(1000) NOT NULL,
  `sequence` int(11) NOT NULL,
  `comment` varchar(50) NOT NULL,
  `create_time` datetime NOT NULL,
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_key` (`key`,`pid`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=62 DEFAULT CHARSET=utf8 COMMENT='配置字典表';

-- ----------------------------
-- Records of easyreport_conf
-- ----------------------------
INSERT INTO `easyreport_conf` VALUES ('1', '33', '常见统计列', 'statColumn', 'statColumn', '0', '统计列', '2015-02-10 10:23:56', '2015-02-10 10:23:56');
INSERT INTO `easyreport_conf` VALUES ('5', '1', 'AQI指数', 'aqi', '空气指数', '100', '空气指数', '2015-02-10 11:01:45', '2015-02-10 11:01:45');
INSERT INTO `easyreport_conf` VALUES ('6', '1', 'AQI指数范围', 'aqi_range', 'AQI指数范围', '100', 'AQI指数范围', '2015-02-10 11:02:34', '2015-02-10 11:02:34');
INSERT INTO `easyreport_conf` VALUES ('7', '1', '空气等级', 'quality', '空气等级', '100', '空气等级', '2015-02-10 11:03:41', '2015-02-10 11:03:41');
INSERT INTO `easyreport_conf` VALUES ('15', '33', '常见日期列', 'dateColumn', 'dateColumn', '100', '', '2015-02-10 10:23:56', '2015-02-10 10:23:56');
INSERT INTO `easyreport_conf` VALUES ('16', '15', 'dt日期', 'dt', '日期', '100', '', '2015-02-10 11:17:18', '2015-02-10 11:17:18');
INSERT INTO `easyreport_conf` VALUES ('17', '15', 'date日期', 'date', '日期', '100', '日期列', '2015-02-10 11:17:22', '2015-02-10 11:17:22');
INSERT INTO `easyreport_conf` VALUES ('18', '1', 'PM2.5细颗粒物', 'pm25', 'PM2.5细颗粒物', '100', 'PM2.5细颗粒物', '2015-02-10 11:04:31', '2015-02-10 11:04:31');
INSERT INTO `easyreport_conf` VALUES ('19', '1', 'PM10可吸入颗粒物', 'pm10', 'PM10可吸入颗粒物', '100', 'PM10可吸入颗粒物', '2015-02-10 11:05:05', '2015-02-10 11:05:05');
INSERT INTO `easyreport_conf` VALUES ('32', '33', '常见维度列', 'dimColumn', 'dimColumn', '0', '常见统计列', '2015-02-10 10:23:56', '2015-02-10 10:23:56');
INSERT INTO `easyreport_conf` VALUES ('33', '0', '报表常用元数据列', 'reportCommonMetaColum', 'reportCommonMetaColum', '0', '报表常用元数据列', '2015-02-10 10:23:56', '2015-02-10 10:23:56');
INSERT INTO `easyreport_conf` VALUES ('36', '1', '二氧化硫', 'so2', '二氧化硫(So2)', '100', '二氧化硫', '2015-02-10 11:05:57', '2015-02-10 11:05:57');
INSERT INTO `easyreport_conf` VALUES ('37', '32', '城市', 'area', '城市', '100', '', '2015-02-10 11:10:47', '2015-02-10 11:10:47');
INSERT INTO `easyreport_conf` VALUES ('38', '32', '地区', 'region', '地区', '100', '华北，华南', '2015-02-10 11:11:06', '2015-02-10 11:11:06');
INSERT INTO `easyreport_conf` VALUES ('39', '32', '省(直辖市)', 'province', '省(直辖市)', '100', '', '2015-02-10 11:11:41', '2015-02-10 11:11:41');
INSERT INTO `easyreport_conf` VALUES ('40', '32', '城市', 'city', '城市', '100', '北京，上海', '2015-02-10 11:12:01', '2015-02-10 11:12:01');
INSERT INTO `easyreport_conf` VALUES ('41', '32', '城区', 'district', '城区', '100', '海淀区、朝阳区', '2015-02-10 11:12:43', '2015-02-10 11:12:43');
INSERT INTO `easyreport_conf` VALUES ('42', '32', '标题', 'title', '标题', '100', '', '2015-02-10 11:13:30', '2015-02-10 11:13:30');
INSERT INTO `easyreport_conf` VALUES ('48', '32', '标识', 'id', '标识', '100', '', '2015-02-10 11:13:44', '2015-02-10 11:13:44');
INSERT INTO `easyreport_conf` VALUES ('49', '32', '文本', 'text', '文本', '100', '', '2015-02-10 11:14:22', '2015-02-10 11:14:22');
INSERT INTO `easyreport_conf` VALUES ('50', '32', '首字母', 'capital', '首字母', '100', '首字母', '2015-02-10 11:15:27', '2015-02-10 11:15:27');
INSERT INTO `easyreport_conf` VALUES ('52', '33', '常见可选列', 'optionalColumn', 'optionalColumn', '0', '', '2015-02-10 10:23:56', '2015-02-10 10:23:56');
INSERT INTO `easyreport_conf` VALUES ('53', '52', '二氧化氮', 'no2', '二氧化氮(No2)', '100', '', '2015-02-10 11:20:21', '2015-02-10 11:20:21');
INSERT INTO `easyreport_conf` VALUES ('54', '52', '臭氧', 'o3', '臭氧(O3)', '100', '', '2015-02-10 11:20:55', '2015-02-10 11:20:55');
INSERT INTO `easyreport_conf` VALUES ('55', '32', '代号', 'code', '代号', '100', '', '2015-02-10 11:15:09', '2015-02-10 11:15:09');
INSERT INTO `easyreport_conf` VALUES ('56', '1', '一氧化碳', 'co', '一氧化碳(Co)', '100', '一氧化碳', '2015-02-10 11:06:26', '2015-02-10 11:06:26');
INSERT INTO `easyreport_conf` VALUES ('57', '1', '二氧化氮', 'no2', '二氧化氮(No2)', '100', '二氧化氮', '2015-02-10 11:06:48', '2015-02-10 11:06:48');
INSERT INTO `easyreport_conf` VALUES ('58', '1', '臭氧', 'o3', '臭氧(O3)', '100', '臭氧', '2015-02-10 11:07:21', '2015-02-10 11:07:21');
INSERT INTO `easyreport_conf` VALUES ('59', '15', '天', 'day', '天', '100', '', '2015-02-10 11:17:10', '2015-02-10 11:17:10');
INSERT INTO `easyreport_conf` VALUES ('60', '15', '小时', 'hour', '小时', '100', '', '2015-02-10 11:17:38', '2015-02-10 11:17:38');
INSERT INTO `easyreport_conf` VALUES ('61', '15', '月度', 'month', '月度', '100', '', '2015-02-10 11:17:57', '2015-02-10 11:17:57');

-- ----------------------------
-- Table structure for easyreport_datasource
-- ----------------------------
DROP TABLE IF EXISTS `easyreport_datasource`;
CREATE TABLE `easyreport_datasource` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '数据源ID',
  `uid` varchar(128) NOT NULL COMMENT '数据源唯一ID,由调接口方传入',
  `name` varchar(50) NOT NULL COMMENT '数据源名称',
  `jdbc_url` varchar(500) NOT NULL COMMENT '数据源连接字符串(JDBC)',
  `user` varchar(50) NOT NULL COMMENT '数据源登录用户名',
  `password` varchar(100) NOT NULL COMMENT '数据源登录密码',
  `comment` varchar(100) NOT NULL COMMENT '说明备注',
  `create_user` varchar(50) NOT NULL,
  `create_time` datetime NOT NULL COMMENT '记录创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '记录修改时间',
  PRIMARY KEY (`id`),
  KEY `AK_uk_uid` (`uid`)
) ENGINE=InnoDB AUTO_INCREMENT=51 DEFAULT CHARSET=utf8 COMMENT='数据源配置信息表';

-- ----------------------------
-- Records of easyreport_datasource
-- ----------------------------
INSERT INTO `easyreport_datasource` VALUES ('49', '8b2d3b62-0c08-4d62-a666-8bb97fc9c222', '中国天气(SQLServer)', 'jdbc:sqlserver://localhost;databaseName=ChinaWeatherAir', 'sa', 'ddd', '', '', '2015-01-27 14:32:32', '2015-01-27 14:32:32');
INSERT INTO `easyreport_datasource` VALUES ('50', '6423b076-ce78-47fc-8c25-c005be2b85af', '中国天气(MySQL)', 'jdbc:mysql://localhost:3306/china_weather_air?characterEncoding=UTF-8', 'root', 'ddd', '', '', '2015-01-29 17:54:32', '2015-01-29 17:54:32');

-- ----------------------------
-- Table structure for easyreport_report
-- ----------------------------
DROP TABLE IF EXISTS `easyreport_report`;
CREATE TABLE `easyreport_report` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '报表ID',
  `ds_id` int(11) NOT NULL COMMENT '数据源ID',
  `uid` varchar(128) DEFAULT NULL COMMENT '报表唯一ID,由接口调用方传入',
  `name` varchar(50) NOT NULL COMMENT '报表名称',
  `data_range` int(11) NOT NULL DEFAULT '7' COMMENT '报表默认展示多少天的数据',
  `layout` int(2) NOT NULL COMMENT '布局形式.1横向;2纵向',
  `stat_column_layout` int(11) NOT NULL DEFAULT '1' COMMENT '统计列布局形式.1横向;2纵向',
  `sql_text` text NOT NULL COMMENT '报表SQL语句',
  `meta_columns` text NOT NULL COMMENT '配置项对象JSON序列化字符串',
  `query_params` text NOT NULL COMMENT '查询条件列属性集合json字符串',
  `options` text NOT NULL COMMENT '报表配置选项(JSON格式)',
  `path` varchar(500) NOT NULL COMMENT '报表树型结构路径',
  `status` int(11) NOT NULL COMMENT '报表状态（1表示锁定，0表示编辑)',
  `sequence` int(11) NOT NULL COMMENT '报表节点在其父节点中的顺序',
  `comment` varchar(500) NOT NULL COMMENT '说明备注',
  `create_user` varchar(50) NOT NULL COMMENT '创建用户',
  `create_time` datetime NOT NULL COMMENT '记录创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录修改时间',
  PRIMARY KEY (`id`),
  KEY `ukuid` (`uid`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=721 DEFAULT CHARSET=utf8 COMMENT='报表信息表';

-- ----------------------------
-- Records of easyreport_report
-- ----------------------------
INSERT INTO `easyreport_report` VALUES ('704', '0', '55fddeec-0853-469c-b44a-3f0c8cf0937a', '中国天气(SQLServer)', '7', '1', '1', '', '', '', '', '704', '0', '100', '', '', '2015-01-12 14:54:58', '2015-01-12 14:54:58');
INSERT INTO `easyreport_report` VALUES ('711', '0', '6fc45465-409d-4e41-9ddd-4e9e13c2f4b0', '中国空气(MySQL)', '7', '1', '1', '', '', '', '', '711', '0', '100', '', '', '2015-01-29 17:54:49', '2015-01-29 17:54:49');
INSERT INTO `easyreport_report` VALUES ('712', '50', 'bb7be838-31ae-41fe-ae63-4ae8efe5c138', '2014年北京每天空气指数', '7', '2', '1', 'select * from fact_air_cn where area=\'北京市\' and year(dt)=\'2014\'', '[{\"ordinal\":0,\"name\":\"dt\",\"text\":\"日期\",\"dataType\":\"DATE\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"aqi\",\"text\":\"空气指数\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"aqi_range\",\"text\":\"AQI指数范围\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"pm25\",\"text\":\"PM2.5细颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"pm10\",\"text\":\"PM10可吸入颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"so2\",\"text\":\"二氧化硫(So2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"co\",\"text\":\"一氧化碳(Co)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"no2\",\"text\":\"二氧化氮(No2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"o3\",\"text\":\"臭氧(O3)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false}]', '', '', '711,712', '0', '100', '', '', '2015-01-29 17:59:14', '2015-01-29 17:59:14');
INSERT INTO `easyreport_report` VALUES ('713', '50', '3180eafe-e4a2-4b5c-828e-e054043f6e87', '30天内城市空气指数', '30', '2', '1', 'select * from fact_air_cn where area in (\'${area}\') and dt>=\'${startTime}\' and dt <\'${endTime}\'', '[{\"ordinal\":0,\"name\":\"dt\",\"text\":\"日期\",\"dataType\":\"DATE\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"aqi\",\"text\":\"空气指数\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"aqi_range\",\"text\":\"AQI指数范围\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"pm25\",\"text\":\"PM2.5细颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"pm10\",\"text\":\"PM10可吸入颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"so2\",\"text\":\"二氧化硫(So2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"co\",\"text\":\"一氧化碳(Co)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"no2\",\"text\":\"二氧化氮(No2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":true,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"o3\",\"text\":\"臭氧(O3)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":true,\"footings\":false,\"displayInMail\":false}]', '[{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"北京市\",\"defaultText\":\"北京市\",\"dataType\":\"string\",\"width\":\"100\",\"required\":true,\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"autoComplete\":false}]', '', '711,713', '0', '100', '', '', '2015-01-29 18:04:46', '2015-01-29 18:04:46');
INSERT INTO `easyreport_report` VALUES ('714', '50', '7608bb39-fa1b-4aff-bd15-b31f318e7025', '2014年主要城市空气质量', '7', '2', '1', 'SELECT\n	area,\n	quality,\n	count(*) total,\n    count(*) / 365 as rating\nFROM\n	fact_air_cn\nWHERE\n	YEAR (dt) = \'2014\'\nGROUP BY\n	area,\n	quality', '[{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市/地区\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气质量\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"footings\":false,\"displayInMail\":false}]', '', '', '711,714', '0', '100', '', '', '2015-01-29 18:15:19', '2015-01-29 18:15:19');
INSERT INTO `easyreport_report` VALUES ('715', '50', 'c8258587-eb6f-4a2a-8caf-0ae236b77807', '2014年主要城市空气质量好坏表', '7', '2', '1', 'SELECT\n	area,\n	quality,\n	sum(total) total,\n    sum(total) / 365 as rating\nFROM\n	(\n		SELECT\n			area,\n			CASE quality\n		WHEN \'优\' THEN\n			\'好\'\n		WHEN \'良\' THEN\n			\'好\'\n		ELSE\n			\'差\'\n		END AS quality,\n		count(*) total\n	FROM\n		fact_air_cn\n	WHERE\n		YEAR (dt) = \'2014\'\n	GROUP BY\n		area,\n		quality\n	) t\nGROUP BY\n	t.area,\n	t.quality', '[{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市/地区\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"质量\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":1,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":43,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":48,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"footings\":false,\"displayInMail\":false}]', '', '', '711,715', '0', '100', '', '', '2015-01-29 18:31:43', '2015-01-29 18:31:43');
INSERT INTO `easyreport_report` VALUES ('716', '0', '4c1778a1-c888-46dd-854a-9fbcde34529e', '中国天气(MySQL)', '7', '1', '1', '', '', '', '', '716', '0', '100', '', '', '2015-02-10 15:20:31', '2015-02-10 15:20:31');
INSERT INTO `easyreport_report` VALUES ('717', '50', '5beca118-e15e-4c3b-91f4-5330dc9a62dd', '2014年北京每天天气', '7', '2', '1', 'select * from fact_weather_cn where year(dt)=2014 and area=\'北京\'', '[{\"ordinal\":0,\"name\":\"dt\",\"text\":\"日期\",\"dataType\":\"DATE\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"weather\",\"text\":\"天气\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":50,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"min_temp\",\"text\":\"最低温度\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"max_temp\",\"text\":\"最高温度\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"wind_level\",\"text\":\"风级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":255,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"wind_direct\",\"text\":\"风向\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":255,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false}]', '', '', '716,717', '0', '1', '', '', '2015-02-10 15:37:11', '2015-02-10 15:37:11');
INSERT INTO `easyreport_report` VALUES ('718', '50', 'b6e04111-75b7-4c6b-9a30-c3d7d0b846c4', '2014年主要城市(可选)空气质量', '7', '1', '1', 'SELECT\n	area,\n	CASE quality\n		WHEN \'优\' THEN \'1-优\'\n		WHEN \'良\' THEN \'2-良\'\n		WHEN \'轻度污染\' THEN \'3-轻度污染\'\n		WHEN \'中度污染\' THEN \'4-中度污染\'\n		WHEN \'重度污染\' THEN \'5-重度污染\'\n		WHEN \'严重污染\' THEN \'6-严重污染\'	\n	END AS quality,\n	count(*) total,\n    count(*) / 365 as rating,\n    avg(aqi) avg_aqi\nFROM\n	fact_air_cn\nWHERE\n	YEAR (dt) = \'2014\' \n    AND area in (\'${area}\')\nGROUP BY\n	area,\n	quality\norder by total desc', '[{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":6,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"3\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"footings\":false,\"optional\":false,\"percent\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"footings\":false,\"optional\":false,\"percent\":true,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"avg_aqi\",\"text\":\"AQI均值\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":16,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false}]', '[{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"北京市\",\"defaultText\":\"北京市\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"required\":false,\"autoComplete\":false}]', '', '711,718', '0', '100', '', '', '2015-02-11 18:58:46', '2015-02-11 18:58:46');
INSERT INTO `easyreport_report` VALUES ('719', '50', 'a6233a37-18b2-4ec9-8ca1-90e8fe3ffed1', '2014年分地区城市空气质量', '7', '2', '1', 'SELECT\n	t1.region,\n	t1.province,\n	t2.area,\n	CASE t2.quality\n		WHEN \'优\' THEN \'1-优\'\n		WHEN \'良\' THEN \'2-良\'\n		WHEN \'轻度污染\' THEN \'3-轻度污染\'\n		WHEN \'中度污染\' THEN \'4-中度污染\'\n		WHEN \'重度污染\' THEN \'5-重度污染\'\n		WHEN \'严重污染\' THEN \'6-严重污染\'	\n	END AS quality,\n	count(*) total,\n	count(*) / 365 AS rating\nFROM\n	(\n		SELECT DISTINCT\n			t1.region,\n			t1.province,\n			t1.city\n		FROM\n			dim_area_cn t1\n	) t1\nINNER JOIN fact_air_cn t2 ON t1.city = t2.area\nWHERE\n	YEAR (t2.dt) = \'2014\'\n    AND t1.region like \'%${region}%\'\n	AND t1.province  like \'%${province}%\'\n	AND t2.area  like \'%${area}%\'\nGROUP BY\n	t1.region,\n	t1.province,\n	t2.area,\n	t2.quality', '[{\"ordinal\":0,\"name\":\"region\",\"text\":\"地区\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"province\",\"text\":\"省(直辖市)\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":50,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"1\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"footings\":false,\"displayInMail\":false}]', '[{\"name\":\"region\",\"text\":\"地区\",\"defaultValue\":\"%\",\"defaultText\":\"全部\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"select\",\"dataSource\":\"sql\",\"content\":\"select distinct region as name,region as text from dim_area_cn\",\"required\":false,\"autoComplete\":false},{\"name\":\"province\",\"text\":\"省(市)\",\"defaultValue\":\"%\",\"defaultText\":\"全部\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"select\",\"dataSource\":\"sql\",\"content\":\"select distinct province as name,province as text from dim_area_cn\",\"required\":false,\"autoComplete\":false},{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"%\",\"defaultText\":\"全部\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"required\":false,\"autoComplete\":false}]', '', '711,719', '0', '100', '', '', '2015-02-13 12:15:23', '2015-02-13 12:15:23');
INSERT INTO `easyreport_report` VALUES ('720', '50', '3b6d84ef-e6d7-4644-a145-e99b578426bf', '2014主要城市(可选)每月空气质量', '7', '2', '1', 'SELECT\n    MONTH(dt) month,\n	area,\n	CASE quality\n		WHEN \'优\' THEN \'1-优\'\n		WHEN \'良\' THEN \'2-良\'\n		WHEN \'轻度污染\' THEN \'3-轻度污染\'\n		WHEN \'中度污染\' THEN \'4-中度污染\'\n		WHEN \'重度污染\' THEN \'5-重度污染\'\n		WHEN \'严重污染\' THEN \'6-严重污染\'	\n	END AS quality,\n	count(*) total,\n    count(*) / 365 as rating\nFROM\n	fact_air_cn\nWHERE\n	YEAR (dt) = \'2014\' \n    AND area in (\'${area}\')\nGROUP BY\n    MONTH(dt),\n	area,\n	quality\norder by total desc', '[{\"ordinal\":0,\"name\":\"month\",\"text\":\"月度\",\"dataType\":\"INT\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":2,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"1\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":6,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"1\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"displayInMail\":false,\"footings\":false}]', '[{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"北京市\",\"defaultText\":\"北京市\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"required\":false,\"autoComplete\":false}]', '', '711,720', '0', '100', '', '', '2015-02-13 18:26:33', '2015-02-13 18:26:33');

-- ----------------------------
-- Table structure for easyreport_report_history
-- ----------------------------
DROP TABLE IF EXISTS `easyreport_report_history`;
CREATE TABLE `easyreport_report_history` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '报表ID',
  `report_id` int(11) NOT NULL,
  `ds_id` int(11) NOT NULL COMMENT '数据源ID',
  `name` varchar(50) NOT NULL COMMENT '报表名称',
  `data_range` int(11) NOT NULL DEFAULT '7' COMMENT '报表默认展示多少天的数据',
  `layout` int(2) NOT NULL COMMENT '布局形式.1横向;2纵向',
  `stat_column_layout` int(11) NOT NULL DEFAULT '1' COMMENT '统计列布局形式.1横向;2纵向',
  `sql_text` text NOT NULL COMMENT '报表SQL语句',
  `meta_columns` text NOT NULL COMMENT '配置项对象JSON序列化字符串',
  `query_params` text NOT NULL COMMENT '查询条件列属性集合json字符串',
  `options` text NOT NULL COMMENT '报表配置选项(JSON格式)',
  `path` varchar(500) NOT NULL COMMENT '报表树型结构路径',
  `status` int(11) NOT NULL COMMENT '报表状态（1表示锁定，0表示编辑)',
  `sequence` int(11) NOT NULL COMMENT '报表节点在其父节点中的顺序',
  `comment` varchar(500) NOT NULL COMMENT '说明备注',
  `author` varchar(50) NOT NULL COMMENT '创建用户',
  `create_time` datetime NOT NULL COMMENT '记录创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录修改时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=721 DEFAULT CHARSET=utf8 COMMENT='报表信息表';

-- ----------------------------
-- Records of easyreport_report_history
-- ----------------------------
INSERT INTO `easyreport_report_history` VALUES ('704', '0', '0', '中国天气(SQLServer)', '7', '1', '1', '', '', '', '', '704', '0', '100', '', '', '2015-01-12 14:54:58', '2015-01-12 14:54:58');
INSERT INTO `easyreport_report_history` VALUES ('711', '0', '0', '中国空气(MySQL)', '7', '1', '1', '', '', '', '', '711', '0', '100', '', '', '2015-01-29 17:54:49', '2015-01-29 17:54:49');
INSERT INTO `easyreport_report_history` VALUES ('712', '0', '50', '2014年北京每天空气指数', '7', '2', '1', 'select * from fact_air_cn where area=\'北京市\' and year(dt)=\'2014\'', '[{\"ordinal\":0,\"name\":\"dt\",\"text\":\"日期\",\"dataType\":\"DATE\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"aqi\",\"text\":\"空气指数\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"aqi_range\",\"text\":\"AQI指数范围\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"pm25\",\"text\":\"PM2.5细颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"pm10\",\"text\":\"PM10可吸入颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"so2\",\"text\":\"二氧化硫(So2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"co\",\"text\":\"一氧化碳(Co)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"no2\",\"text\":\"二氧化氮(No2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"o3\",\"text\":\"臭氧(O3)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false}]', '', '', '711,712', '0', '100', '', '', '2015-01-29 17:59:14', '2015-01-29 17:59:14');
INSERT INTO `easyreport_report_history` VALUES ('713', '0', '50', '30天内城市空气指数', '30', '2', '1', 'select * from fact_air_cn where area in (\'${area}\') and dt>=\'${startTime}\' and dt <\'${endTime}\'', '[{\"ordinal\":0,\"name\":\"dt\",\"text\":\"日期\",\"dataType\":\"DATE\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"aqi\",\"text\":\"空气指数\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"aqi_range\",\"text\":\"AQI指数范围\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"pm25\",\"text\":\"PM2.5细颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"pm10\",\"text\":\"PM10可吸入颗粒物\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"so2\",\"text\":\"二氧化硫(So2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"co\",\"text\":\"一氧化碳(Co)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"no2\",\"text\":\"二氧化氮(No2)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":true,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"o3\",\"text\":\"臭氧(O3)\",\"dataType\":\"FLOAT\",\"expression\":\"\",\"width\":12,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":true,\"footings\":false,\"displayInMail\":false}]', '[{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"北京市\",\"defaultText\":\"北京市\",\"dataType\":\"string\",\"width\":\"100\",\"required\":true,\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"autoComplete\":false}]', '', '711,713', '0', '100', '', '', '2015-01-29 18:04:46', '2015-01-29 18:04:46');
INSERT INTO `easyreport_report_history` VALUES ('714', '0', '50', '2014年主要城市空气质量', '7', '2', '1', 'SELECT\n	area,\n	quality,\n	count(*) total,\n    count(*) / 365 as rating\nFROM\n	fact_air_cn\nWHERE\n	YEAR (dt) = \'2014\'\nGROUP BY\n	area,\n	quality', '[{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市/地区\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气质量\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"footings\":false,\"displayInMail\":false}]', '', '', '711,714', '0', '100', '', '', '2015-01-29 18:15:19', '2015-01-29 18:15:19');
INSERT INTO `easyreport_report_history` VALUES ('715', '0', '50', '2014年主要城市空气质量好坏表', '7', '2', '1', 'SELECT\n	area,\n	quality,\n	sum(total) total,\n    sum(total) / 365 as rating\nFROM\n	(\n		SELECT\n			area,\n			CASE quality\n		WHEN \'优\' THEN\n			\'好\'\n		WHEN \'良\' THEN\n			\'好\'\n		ELSE\n			\'差\'\n		END AS quality,\n		count(*) total\n	FROM\n		fact_air_cn\n	WHERE\n		YEAR (dt) = \'2014\'\n	GROUP BY\n		area,\n		quality\n	) t\nGROUP BY\n	t.area,\n	t.quality', '[{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市/地区\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"质量\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":1,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":43,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":48,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"footings\":false,\"displayInMail\":false}]', '', '', '711,715', '0', '100', '', '', '2015-01-29 18:31:43', '2015-01-29 18:31:43');
INSERT INTO `easyreport_report_history` VALUES ('716', '0', '0', '中国天气(MySQL)', '7', '1', '1', '', '', '', '', '716', '0', '100', '', '', '2015-02-10 15:20:31', '2015-02-10 15:20:31');
INSERT INTO `easyreport_report_history` VALUES ('717', '0', '50', '2014年北京每天天气', '7', '2', '1', 'select * from fact_weather_cn where year(dt)=2014 and area=\'北京\'', '[{\"ordinal\":0,\"name\":\"dt\",\"text\":\"日期\",\"dataType\":\"DATE\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"weather\",\"text\":\"天气\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":50,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"min_temp\",\"text\":\"最低温度\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"max_temp\",\"text\":\"最高温度\",\"dataType\":\"INT\",\"expression\":\"\",\"width\":11,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"wind_level\",\"text\":\"风级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":255,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false},{\"ordinal\":0,\"name\":\"wind_direct\",\"text\":\"风向\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":255,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"footings\":false,\"displayInMail\":false,\"optional\":false}]', '', '', '716,717', '0', '1', '', '', '2015-02-10 15:37:11', '2015-02-10 15:37:11');
INSERT INTO `easyreport_report_history` VALUES ('718', '0', '50', '2014年主要城市(可选)空气质量', '7', '1', '1', 'SELECT\n	area,\n	CASE quality\n		WHEN \'优\' THEN \'1-优\'\n		WHEN \'良\' THEN \'2-良\'\n		WHEN \'轻度污染\' THEN \'3-轻度污染\'\n		WHEN \'中度污染\' THEN \'4-中度污染\'\n		WHEN \'重度污染\' THEN \'5-重度污染\'\n		WHEN \'严重污染\' THEN \'6-严重污染\'	\n	END AS quality,\n	count(*) total,\n    count(*) / 365 as rating,\n    avg(aqi) avg_aqi\nFROM\n	fact_air_cn\nWHERE\n	YEAR (dt) = \'2014\' \n    AND area in (\'${area}\')\nGROUP BY\n	area,\n	quality\norder by total desc', '[{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":6,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"3\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"footings\":false,\"optional\":false,\"percent\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"footings\":false,\"optional\":false,\"percent\":true,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"avg_aqi\",\"text\":\"AQI均值\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":16,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false}]', '[{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"北京市\",\"defaultText\":\"北京市\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"required\":false,\"autoComplete\":false}]', '', '711,718', '0', '100', '', '', '2015-02-11 18:58:46', '2015-02-11 18:58:46');
INSERT INTO `easyreport_report_history` VALUES ('719', '0', '50', '2014年分地区城市空气质量', '7', '2', '1', 'SELECT\n	t1.region,\n	t1.province,\n	t2.area,\n	CASE t2.quality\n		WHEN \'优\' THEN \'1-优\'\n		WHEN \'良\' THEN \'2-良\'\n		WHEN \'轻度污染\' THEN \'3-轻度污染\'\n		WHEN \'中度污染\' THEN \'4-中度污染\'\n		WHEN \'重度污染\' THEN \'5-重度污染\'\n		WHEN \'严重污染\' THEN \'6-严重污染\'	\n	END AS quality,\n	count(*) total,\n	count(*) / 365 AS rating\nFROM\n	(\n		SELECT DISTINCT\n			t1.region,\n			t1.province,\n			t1.city\n		FROM\n			dim_area_cn t1\n	) t1\nINNER JOIN fact_air_cn t2 ON t1.city = t2.area\nWHERE\n	YEAR (t2.dt) = \'2014\'\n    AND t1.region like \'%${region}%\'\n	AND t1.province  like \'%${province}%\'\n	AND t2.area  like \'%${area}%\'\nGROUP BY\n	t1.region,\n	t1.province,\n	t2.area,\n	t2.quality', '[{\"ordinal\":0,\"name\":\"region\",\"text\":\"地区\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"province\",\"text\":\"省(直辖市)\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":50,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":10,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"1\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"footings\":false,\"displayInMail\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"footings\":false,\"displayInMail\":false}]', '[{\"name\":\"region\",\"text\":\"地区\",\"defaultValue\":\"%\",\"defaultText\":\"全部\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"select\",\"dataSource\":\"sql\",\"content\":\"select distinct region as name,region as text from dim_area_cn\",\"required\":false,\"autoComplete\":false},{\"name\":\"province\",\"text\":\"省(市)\",\"defaultValue\":\"%\",\"defaultText\":\"全部\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"select\",\"dataSource\":\"sql\",\"content\":\"select distinct province as name,province as text from dim_area_cn\",\"required\":false,\"autoComplete\":false},{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"%\",\"defaultText\":\"全部\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"required\":false,\"autoComplete\":false}]', '', '711,719', '0', '100', '', '', '2015-02-13 12:15:23', '2015-02-13 12:15:23');
INSERT INTO `easyreport_report_history` VALUES ('720', '0', '50', '2014主要城市(可选)每月空气质量', '7', '2', '1', 'SELECT\n    MONTH(dt) month,\n	area,\n	CASE quality\n		WHEN \'优\' THEN \'1-优\'\n		WHEN \'良\' THEN \'2-良\'\n		WHEN \'轻度污染\' THEN \'3-轻度污染\'\n		WHEN \'中度污染\' THEN \'4-中度污染\'\n		WHEN \'重度污染\' THEN \'5-重度污染\'\n		WHEN \'严重污染\' THEN \'6-严重污染\'	\n	END AS quality,\n	count(*) total,\n    count(*) / 365 as rating\nFROM\n	fact_air_cn\nWHERE\n	YEAR (dt) = \'2014\' \n    AND area in (\'${area}\')\nGROUP BY\n    MONTH(dt),\n	area,\n	quality\norder by total desc', '[{\"ordinal\":0,\"name\":\"month\",\"text\":\"月度\",\"dataType\":\"INT\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":2,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"1\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"area\",\"text\":\"城市\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"format\":\"\",\"comment\":\"\",\"width\":20,\"decimals\":\"0\",\"type\":\"1\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"quality\",\"text\":\"空气等级\",\"dataType\":\"VARCHAR\",\"expression\":\"\",\"width\":6,\"decimals\":\"0\",\"type\":\"2\",\"sortType\":\"1\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"total\",\"text\":\"天数\",\"dataType\":\"BIGINT\",\"expression\":\"\",\"width\":21,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":false,\"optional\":false,\"displayInMail\":false,\"footings\":false},{\"ordinal\":0,\"name\":\"rating\",\"text\":\"占比\",\"dataType\":\"DECIMAL\",\"expression\":\"\",\"width\":26,\"decimals\":\"0\",\"type\":\"3\",\"sortType\":\"0\",\"extensions\":false,\"hidden\":false,\"percent\":true,\"optional\":false,\"displayInMail\":false,\"footings\":false}]', '[{\"name\":\"area\",\"text\":\"城市\",\"defaultValue\":\"北京市\",\"defaultText\":\"北京市\",\"dataType\":\"string\",\"width\":\"100\",\"formElement\":\"selectMul\",\"dataSource\":\"sql\",\"content\":\"select distinct area as name,area as text from fact_air_cn\",\"required\":false,\"autoComplete\":false}]', '', '711,720', '0', '100', '', '', '2015-02-13 18:26:33', '2015-02-13 18:26:33');

-- ----------------------------
-- Table structure for easyreport_task
-- ----------------------------
DROP TABLE IF EXISTS `easyreport_task`;
CREATE TABLE `easyreport_task` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '报表任务ID',
  `report_ids` varchar(1024) NOT NULL COMMENT '报表ID列表',
  `cron_expr` varchar(100) NOT NULL COMMENT '报表任务执行时间,指定任务什么时间执行',
  `comment` varchar(100) NOT NULL COMMENT '报表任务说明',
  `create_time` datetime NOT NULL COMMENT '报表任务记录创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '报表任务记录修改时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='报表任务信息表';

-- ----------------------------
-- Records of easyreport_task
-- ----------------------------
